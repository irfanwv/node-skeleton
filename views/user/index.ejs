<% include ../partials/header %>
<% include ../partials/side %>

<!-- Main Wrapper -->
<div id="wrapper">

    <div class="normalheader transition animated fadeIn">
        <div class="hpanel">
            <div class="panel-body">
                <a class="small-header-action" href="">
                    <div class="clip-header">
                        <i class="fa fa-arrow-up"></i>
                    </div>
                </a>

                <div id="hbreadcrumb" class="pull-right m-t-lg">
                    <ol class="hbreadcrumb breadcrumb">
                        <li><a href="index.html">Dashboard</a></li>
                        <li class="active">
                            <span>Users List</span>
                        </li>
                    </ol>
                </div>
                <h2 class="font-light m-b-xs">
                    User List
                </h2>
            </div>
        </div>
    </div>
    <div class="content animate-panel">
    <div class="row">
        <div class="col-lg-12">
            <div class="pull-right" style="padding-bottom: 3px;">
                <button class="btn btn-primary " type="button" data-toggle="modal" data-target="#myModal5">
                        <i class="fa fa-user-plus"></i> Add User
                </button>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12">
            <div class="hpanel">


                <div class="panel-body">
                    <table id="example1" class="table table-striped table-bordered table-hover" width="100%">
                        <thead>
                        <tr>
                            <th>id</th>
                            <th>Name</th>
                            <th>Email</th>
                            <th>Mobile</th>
                        </tr>
                        </thead>
                        <tbody></tbody>
                    </table>

                </div>
            </div>


        </div>

    </div>
    </div>

    <!-- Footer-->
    <footer class="footer">
        <span class="pull-right">
            Example text
        </span>
        Company 2015-2020
    </footer>

</div>

<div class="modal fade" id="myModal5" tabindex="-1" role="dialog" aria-hidden="true" style="display: none;">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="color-line"></div>
            <div class="modal-header">
                <h4 class="modal-title">Add New User</h4>
            </div>

            <form role="form" id="form_2" method="post">
                <div class="modal-body">
                    <div id="errorMsg" style="margin-top: 10px"></div>
                    <div class="animate-panel">
                        <div class="row">
                            <div class="col-lg-12" style="">
                                <div class="hpanel">
                                    <div class="panel-body">
                                        <div class="row">
                                            <div class="col-md-6" style="">
                                                <div class="form-group">
                                                    <label class="control-label" for="name">Name *</label>
                                                    <input type="text" class="form-control" id="name" placeholder="Name" name="name" required="" data-parsley-pattern="/^[a-zA-Z ]*$/" data-parsley-pattern-message="Only Alphabets and space are allowed.">
                                                </div>
                                            </div>
                                            <div class="col-md-6" style="">
                                                <div class="form-group">
                                                    <label class="control-label" for="email">Email *</label>
                                                    <input type="email" placeholder="Email" id="email" name="email" class="form-control" required="">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6" style="">
                                                <div class="form-group">
                                                    <label class="control-label">Mobile *</label>
                                                    <input type="text" data-parsley-type="number" placeholder="Mobile" id="mobile" name="mobile" class="form-control" minlength="9" data-parsley-pattern="^[\d\+\.\(\)\/\s]*$" maxlength="12" required="">
                                                </div>
                                            </div>
                                            <div class="col-md-6" style="">
                                                <div class="form-group">
                                                    <label class="control-label">Secondary Mobile</label>
                                                    <input type="text" placeholder="Secondary Mobile" id="seconday_mobile" name="seconday_mobile" class="form-control">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6" style="">
                                                <div class="form-group">
                                                    <label class="control-label">Employee Code *</label>
                                                    <input id="employee_code" placeholder="Employee Code" name="employee_code" type="text" value="" class="form-control" required="">
                                                </div>
                                            </div>
                                            <div class="col-md-6" style="">
                                                <div class="form-group">
                                                    <label class="control-label">Blood Group </label>
                                                    <select name="blood_group" id="blood_group" class="form-control">
                                                        <option value="">Select</option>
                                                        <option value="A+">A+</option>
                                                        <option value="A-">A-</option>
                                                        <option value="B+">B+</option>
                                                        <option value="B-">B-</option>
                                                        <option value="AB+">AB+</option>
                                                        <option value="AB-">AB-</option>
                                                        <option value="O+">O+</option>
                                                        <option value="O-">O-</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6" style="">
                                                <div class="form-group"><label class="control-label">Skype Id *</label>
                                                    <input placeholder="Skype Id" id="skype_id" name="skype_id" type="text" value="" class="form-control" required="">
                                                </div>
                                            </div>
                                            <div class="col-md-6" style="">
                                                <div class="form-group"><label class="control-label">Designation *</label>
                                                    <select name="designation" id="designation" class="form-control" required="">
                                                        <option value="">Select</option>
                                                        <option value="1">Team Head</option>
                                                        <option value="2">BUH_JV</option>
                                                        <option value="3">CEO</option>
                                                        <option value="4">BUH_IOT/Big Data</option>
                                                        <option value="5">CMO</option>
                                                        <option value="6">Team Lead</option>
                                                        <option value="7">Centre Head</option>
                                                        <option value="8">Head-Finance</option>
                                                        <option value="9">BUH_Product &amp; Innovation</option>
                                                        <option value="10">Project Lead</option>
                                                        <option value="11">Sr. Software Engineer</option>
                                                        <option value="12">Head-Digital Marketing</option>
                                                        <option value="13">Sr UI Developer</option>
                                                        <option value="14">UI Developer</option>
                                                        <option value="15">DM Executive</option>
                                                        <option value="16">Sr Business Development Executive</option>
                                                        <option value="17">Sr. Team Lead</option>
                                                        <option value="18">Senior Software Engineer</option>
                                                        <option value="19">SEO Marketing Executive</option>
                                                        <option value="20">Sr. Video Marketing Executive</option>
                                                        <option value="21">Sr. Facility Management Executive</option>
                                                        <option value="22">Sr. UX Designer</option>
                                                        <option value="23">Social Marketing Executive</option>
                                                        <option value="24">Video Marketing Executive</option>
                                                        <option value="25">Project Coordinator</option>
                                                        <option value="26">Sr. Data Entry Executive</option>
                                                        <option value="27">Human Resource</option>
                                                        <option value="28">Sr. Digital Marketing Executive</option>
                                                        <option value="29">Software Engineer</option>
                                                        <option value="30">Business Development Executive</option>
                                                        <option value="31">Big Data Developer</option>
                                                        <option value="32">Business Analyst</option>
                                                        <option value="33">Data Entry Executive</option>
                                                        <option value="34">Sr. Business Development Executive</option>
                                                        <option value="35">Team Lead-Social Marketing</option>
                                                        <option value="36">QA Engineer</option>
                                                        <option value="37">Sr. Project Coordinator</option>
                                                        <option value="38">Project Co-ordinator</option>
                                                        <option value="39">Facility Management Executive</option>
                                                        <option value="40">IT Support Engineer</option>
                                                        <option value="41">Finance Executive</option>
                                                        <option value="42">CTO</option>
                                                        <option value="43">Lead Generation Executive</option>
                                                        <option value="44">Sr. SEO Marketing Executive</option>
                                                        <option value="45">UX Designer</option>
                                                        <option value="46">Sr.Software Engineer</option>
                                                        <option value="47">Front desk Executive</option>
                                                        <option value="48">Digital Marketing Executive-SEO/SMO</option>
                                                        <option value="49">Digital Marketing Executive-SEO</option>
                                                        <option value="50">Digital Marketing Executive-PPC</option>
                                                        <option value="51">Inside Sales Representative</option>
                                                        <option value="52">HR Executive</option>
                                                        <option value="53">Digital Marketing Executive</option>
                                                        <option value="54">Sr. BA</option>
                                                        <option value="55">Data Support Executive</option>
                                                        <option value="56">Graduate Engineer Trainee</option>
                                                        <option value="57">Content Writer</option>
                                                        <option value="58">Front desk + lead generation executive</option>
                                                        <option value="59">Sr. Project Manager</option>
                                                        <option value="60">Visual Designer</option>
                                                        <option value="61">Executive Assistant</option>
                                                        <option value="62">CHRO</option>
                                                        <option value="63">Delivery Manager</option>

                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6" style="">
                                                <div class="form-group"><label class="control-label">Grade *</label>
                                                    <select name="grade" id="grade" class="form-control" required="">
                                                        <option value="">Select</option>
                                                        <option value="1">GET</option>
                                                        <option value="2">C1 A</option>
                                                        <option value="3">C1 B</option>
                                                        <option value="4">C2 A</option>
                                                        <option value="5">C2 B</option>
                                                        <option value="6">E1 A</option>
                                                        <option value="7">E1 B</option>
                                                        <option value="8">E2 A</option>
                                                        <option value="9">E2 B</option>
                                                        <option value="10">E3 A</option>
                                                        <option value="11">E3 B</option>
                                                        <option value="12">M1</option>
                                                        <option value="13">M2</option>
                                                        <option value="14">M3</option>
                                                        <option value="15">L1</option>
                                                        <option value="16">L2</option>
                                                        <option value="17">Default</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-md-6" style="">
                                                <div class="form-group"><label class="control-label">Department *</label>
                                                    <select name="department" id="department" class="form-control" required="">
                                                        <option value="">Select</option>
                                                        <option value="21">Accounts</option>
                                                        <option value="5">AWS</option>
                                                        <option value="16">BA</option>
                                                        <option value="15">Big Data</option>
                                                        <option value="7">Business</option>
                                                        <option value="12">CDD</option>
                                                        <option value="6">Digital Marketing</option>
                                                        <option value="23">Domestic</option>
                                                        <option value="17">E-Commerce</option>
                                                        <option value="27">EA</option>
                                                        <option value="10">Facility Management</option>
                                                        <option value="25">Gurgaon - Microsoft</option>
                                                        <option value="24">Gurgaon - QA</option>
                                                        <option value="14">HR</option>
                                                        <option value="19">IOT</option>
                                                        <option value="20">IT Support</option>
                                                        <option value="1">Leadership</option>
                                                        <option value="2">Management</option>
                                                        <option value="4">Microsoft</option>
                                                        <option value="8">Mobile Development</option>
                                                        <option value="26">Office Boy</option>
                                                        <option value="9">Open Source</option>
                                                        <option value="13">Product</option>
                                                        <option value="22">Python</option>
                                                        <option value="18">QA</option>
                                                        <option value="3">UI</option>
                                                        <option value="11">Ux</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6" style="">
                                                <div class="form-group">
                                                    <label class="control-label">Date of Birth </label>
                                                    <input id="birth_date" placeholder="Date of Birth" name="birth_date" type="date" value="" class="form-control hasDatepicker" pattern="(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))">
                                                </div>
                                            </div>
                                            <div class="col-md-6" style="">
                                                <div class="form-group">
                                                    <label class="control-label">Date of Anniversary </label>
                                                    <input id="anniversary_date" placeholder="Date of Anniversary" name="anniversary_date" type="date" value="" class="form-control hasDatepicker" pattern="(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6" style="">
                                                <div class="form-group">
                                                    <label class="control-label">Date of Joining *</label>
                                                    <input id="join_date" placeholder="Date of Joining" name="join_date" type="text" value="" class="form-control hasDatepicker" required="" data-date-format="YYYY-MM-DD" pattern="(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))">
                                                </div>
                                            </div>
                                            <div class="col-md-6" style="">
                                                <div class="form-group"><label class="control-label">Office Location *</label>
                                                    <select name="location" id="location" class="form-control" required="">
                                                        <option value="">Select</option>
                                                        <option value="1">Indore HO</option>
                                                        <option value="2">Indore EC</option>
                                                        <option value="3">Bhopal</option>
                                                        <option value="4">Gurgaon</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6" style="">
                                                <div class="form-group">
                                                    <label class="control-label">Local Address *</label>
                                                    <textarea name="address" id="address" class="form-control" required="" data-required-message="Please insert your name"></textarea>
                                                </div>
                                            </div>
                                            <div class="col-md-6" style="">
                                                <div class="form-group">
                                                    <label class="control-label">
                                                        <!-- /* 08-09-2017 same as local */ -->
                                                        Permanent Address ( <input type="checkbox" name="same_as_local" id="same_as_local" value="1" data-parsley-multiple="same_as_local"> Same as Local Address ) <!-- /* 08-09-2017 same as local */ --></label>
                                                    <textarea name="per_address" id="per_address" class="form-control"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6" style="">
                                                <div class="form-group">
                                                    <label class="control-label"><input type="checkbox" name="is_member" id="is_member" data-parsley-multiple="is_member"> Is Committee Member </label>

                                                </div>
                                            </div>
                                            <!-- 08-09-2017 is_active field added -->
                                            <div class="col-md-6" style="">
                                                <div class="form-group">
                                                    <label class="control-label"><input type="checkbox" name="is_active" id="is_active" value="1" data-parsley-multiple="is_active"> Is Active </label>

                                                </div>
                                            </div>
                                            <!-- 08-09-2017 is_active field added -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <input type="hidden" name="id" id="user_id" value="">
                    <button type="button" class="btn btn-default" data-dismiss="modal" onclick="formClose()">Close</button>
                    <button id="buttonSave" class="btn btn-primary pull-right" type="submit">Add</button>
                </div>
            </form>
        </div>
    </div>
</div>

<script src="vendor/jquery-validation/jquery.validate.min.js"></script>
<script>
    //DataTable Load and initialize data
    jQuery(function () {
        // Initialize Example 1
        $('#example1').dataTable( {
            "ajax": 'http://localhost:3000/userApi',
            "dataSrc": 'data',
            "columns": [
                { data: '_id', name: '_id', visible:false},
                { data: 'name', name: 'name' },
                { data: 'email', name: 'email' },
                { data: 'mobile_number', name: 'mobile_number' },
            ],
            "processing": true,
            "serverSide": true,


        });
    });



    jQuery("#form_2").validate({
        rules: {
            name: {
                required: true,
                minlength: 3
            },
            username: {
                required: true,
                minlength: 5
            },
            url: {
                required: true,
                url: true
            },
            number: {
                required: true,
                number: true
            },
            last_name: {
                required: true,
                minlength: 6
            }
        },
        messages: {
            number: {
                required: "(Please enter your phone number)",
                number: "(Please enter valid phone number)"
            },
            last_name: {
                required: "This is custom message for required",
                minlength: "This is custom message for min length"
            }
        },
        submitHandler: function(form) {
            jQuery.ajax({
                url:'userAdd',
                type: "post",
                data: $(form).serialize(),
                success: function(){
                    //alert("success");
                    $("#errorMsg").html('Submitted successfully');
                },
                error:function(){
                    //            alert("failure");
                    $("#result").html('There is error while submit');
                }
                //Your code for AJAX Ends
            });
            //form.submit();
        },
        errorPlacement: function(error, element) {
            $( element )
                .closest( "form" )
                .find( "label[for='" + element.attr( "id" ) + "']" )
                .append( error );
        },
        errorElement: "span",
    });
</script>

<% include ../partials/footer %>
